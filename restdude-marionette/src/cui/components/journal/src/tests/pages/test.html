<!doctype HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
        <title>Modal Test - Core UI</title>
        <link href="/dist/css/main.css" rel="stylesheet" type="text/css" media="all">
    </head>
    <body>

        <section>
            <header>Controls</header>
            <div class="cui-row">
                <fieldset>
                    <div cass="cui-label">
                        <legend>Live Mode</legend>
                    </div>
                    <div class="cui-data">
                        <div class="cui-selection-group">
                            <input type="radio" id="E_LIVE_ON" value="on" name="E_LIVE_MODE" checked/>
                            <label for="E_LIVE_ON">On</label>
                            <input type="radio" id="E_LIVE_OFF" value="off" name="E_LIVE_MODE"/>
                            <label for="E_LIVE_OFF">Off (Allow Errors)</label>
                            <input type="radio" id="E_LIVE_OFF_SUPPRESS" value="suppres" name="E_LIVE_MODE"/>
                            <label for="E_LIVE_OFF_SUPPRESS">Off (Suppress Errors)</label>
                        </div>
                    </div>
                </fieldset>
            </div>
        </section>

        <section>
            <header><h2>Examples</h2></header>
            <div class="cui-row">
                <div class="cui-col-small-4">
                    <span>Random data types:</span>
                </div>
                <div class="cui-col-small-6">
                    <strong>'test1', {'txt': 'foo'}, 123</strong>
                </div>
                <div class="cui-col-small-2">
                    <button id="test1" title="execute test 1">Log</button>
                </div>
            </div>
            <div class="cui-row">
                <div class="cui-col-small-4">
                    <span>Info:</span>
                </div>
                <div class="cui-col-small-6">
                    <strong>{type: 'info', owner: 'UI}, 'infoTest', {txt: 'bar'}, 123</strong>
                </div>
                <div class="cui-col-small-2">
                    <button id="testInfo" title="execute info test">Log</button>
                </div>
            </div>
            <div class="cui-row">
                <div class="cui-col-small-4">
                    <span>Error:</span>
                </div>
                <div class="cui-col-small-6">
                    <strong>{type: 'error', owner: 'FW}, 'errorTest', {txt: 'bar'}, 456</strong>
                </div>
                <div class="cui-col-small-2">
                    <button id="testError" title="execute error test">Log</button>
                </div>
            </div>
            <div class="cui-row">
                <div class="cui-col-small-4">
                    <span>Warn:</span>
                </div>
                <div class="cui-col-small-6">
                    <strong>{type: 'warn'}, 'warnTest', {txt: 'bazz'}, 789</strong>
                </div>
                <div class="cui-col-small-2">
                    <button id="testWarn" title="execute warn test">Log</button>
                </div>
            </div>
            <div class="cui-row">
                <div class="cui-col-small-4">
                    <span>Warning:</span>
                </div>
                <div class="cui-col-small-6">
                    <strong>{type: 'warning'}, 'warningTest', {txt: 'bazzz'}, 789789</strong>
                </div>
                <div class="cui-col-small-2">
                    <button id="testWarning" title="execute warn test">Log</button>
                </div>
            </div>
        </section>

    </body>
    <script id="require" src="/dist/js/main.js"></script>
    <script>
        require(["journal", "domReady!"], function () {

            // Turn Journal on by default for this page
            journal.live("on");

            // // Set up controls and buttons

            $('[name="E_LIVE_MODE"]').on('change', function () {
                journal.live(this.value);
            });

            // $('#E_PRINT_ALL').on('click', function () {
            //     journal.print();
            // });

            // $('#E_BTN_CLEAR').on('click', function () {
            //     journal.clear();
            // });

            // $('#E_BTN_CLEAR_ALL').on('click', function () {
            //     journal.clear(true);
            // });

            $('button#test1').on('click', function () {
                journal.log('test1', {txt: 'foo'}, 123);
            });

            $('button#testInfo').on('click', function () {
                journal.log({type: 'info', owner: 'UI'}, 'infoTest', {txt: 'bar'}, 123);
            });

            $('button#testError').on('click', function () {
                journal.log({type: 'error', owner: 'FW'}, 'errorTest', {txt: 'baz'}, 456);
            });

            $('button#testWarn').on('click', function () {
                journal.log({type: 'warn'}, 'warnTest', {txt: 'bazz'}, 789);
            });

            $('button#testWarning').on('click', function () {
                journal.log({type: 'warning'}, 'warningTest', {txt: 'bazzz'}, 789789);
            });

            // Customized logging
            // $('#E_BTN_LOG_CUSTOM').on('click', function (evt) {
            //     var settings = {};
            //     var message = $('#E_LOG_MESSAGE').val();
            //     var args = [];

            //     // Build settings
            //     settings.type = $('#E_LOG_TYPE').val();
            //     settings.owner = $('#E_LOG_OWNER').val().trim();
            //     settings.module = $('#E_LOG_MODULE').val().trim();
            //     settings.submodule = $('#E_LOG_SUBMODULE').val().trim();
            //     settings.func = $('#E_LOG_FUNC').val().trim();
            //     settings.element = $('#E_LOG_ELEMENT').val().trim();

            //     // Try to resolve element value as an actual DOM element
            //     try {
            //         settings.element = $(settings.element);
            //     }
            //     catch (e) {
            //         try {
            //             settings.element = eval(settings.element);
            //         }
            //         catch (ee) { }
            //     }

            //     // Add settings to the arguments list
            //     args.push(settings);

            //     // Convert `message` to an array, but try to preserve object types
            //     try {
            //         message = JSON.parse('[' + message + ']');
            //     }
            //     catch (e) {
            //         message = message.split(',');
            //     }

            //     // Add each message piece to the arguments list
            //     message.forEach(function (piece) {
            //         args.push(piece);
            //     });

            //     // console.log('Gathered settings: ', settings, '\nmessage: ', Array.prototype.slice.call(message));
            //     journal.log.apply(null, args);
            // });
        });
    </script>
</html>
